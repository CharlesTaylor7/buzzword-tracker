(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{219:function(e,t,r){e.exports=r(420)},224:function(e,t,r){},225:function(e,t,r){},420:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(77),c=r.n(o),i=(r(224),r(225),r(50)),u=r(34),s=r(122),l=r(78),p=r(177),d=(r(421),r(118),r(190)),f=r(178),y=r.n(f),h=r(92),m=r(189),g=r(179),b=r(424),v=r(428),j=r(188);function O(e,t){O=function(e,t){return new o(e,t)};var r=Object(d.a)(RegExp),n=RegExp.prototype,a=new WeakMap;function o(e,t){var n=r.call(this,e);return a.set(n,t),n}function c(e,t){var r=a.get(t);return Object.keys(r).reduce(function(t,n){return t[n]=e[r[n]],t},Object.create(null))}return Object(p.a)(o,r),o.prototype.exec=function(e){var t=n.exec.call(this,e);return t&&(t.groups=c(t,this)),t},o.prototype[Symbol.replace]=function(e,t){if("string"===typeof t){var r=a.get(this);return n[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}if("function"===typeof t){var o=this;return n[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!==typeof e[e.length-1]&&e.push(c(e,o)),t.apply(this,e)})}return n[Symbol.replace].call(this,e,t)},O.apply(this,arguments)}var w=y.a,E=function(e){switch(e){case"/":return"%2F";case"?":return"%3F";case"#":return"%23";case"=":return"%3D";case":":return"%3A";case";":return"%3B";case" ":return"%20";case"%":return"%25";case"+":return"%2B";default:return e}},k=function(e){return e.match(O(/^.*\/(.*)$/,{key:1})).groups.key},R=function e(t){return Object(h.fromFetch)("https://cors-anywhere.herokuapp.com/https://philpapers.org/oai.pl?verb=ListRecords&metadataPrefix=oai_dc".concat(t?"&resumptionToken=".concat(function(e){return e.split().map(E).join()}(t)):"")).pipe(m.a(function(e){return e.text()}),m.a(function(t){var r=w.parse(t)["OAI-PMH"].ListRecords,n=r.record,a=r.resumptionToken;return v.a(j.a(n),e(a))}))}().pipe(g.a(function(e){for(var t={},r=0,n=Object.entries(e.metadata["oai_dc:dc"]);r<n.length;r++){var a=n[r],o=Object(u.a)(a,2),c=o[0],i=o[1];t[c.match(O(/^dc:(\w+)$/,{prop:1})).groups.prop]=i}return t.title=t.title?String(t.title):null,t.id=k(t.identifier),delete t.identifier,t.year=t.date,delete t.date,t.type=k(t.type),"Philosophy"!==t.subject&&console.log(JSON.stringify(t)),t}),b.a(function(e){return"en"===e.language&&e.title&&"number"===typeof e.year})),T=(Object(h.fromFetch)("https://philpapers.org/philpapers/raw/categories.json?apiId=".concat("904518","&apiKey=").concat("5KLo4qkvXNl4t8s5")).pipe(m.a(function(e){return e.json()}),g.a(function(e){return e[0]})),r(429)),x=r(432),S=r(427),$=r(434),A=r(191),B=r(433),F=r(425),K=r(430),N=r(83),q=r.n(N),I=r(55),J=r(431),L=r(426),P=function(e){var t=e.query,r=e.yearRange,o=Object(u.a)(r,2),c=o[0],p=o[1],d=function(){var e=Object(n.useState)({records:{},stemsToRecords:{},yearsToRecords:{}}),t=Object(u.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)(function(){R.subscribe(function(e){var t=/^([0-9]+|s|the|of|on|and|to|in|at|for)$/,r=T.a(x.a("title"),S.a(/[\s,.\-_'\u2019]/),$.a(q.a),A.a(function(e){return!B.a(e)&&B.a(F.a(t,e))}),K.a)(e);a(function(t){var n=t.stemsToRecords,a=t.yearsToRecords,o=t.records,c=Object(i.a)({},o,Object(l.a)({},e.id,e)),u=Object(i.a)({},n),p=!0,d=!1,f=void 0;try{for(var y,h=r[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){var m=y.value;void 0===u[m]?u[m]=[e.id]:u[m]=[].concat(Object(s.a)(u[m]),[e.id])}}catch(v){d=!0,f=v}finally{try{p||null==h.return||h.return()}finally{if(d)throw f}}var g=Object(i.a)({},a),b=e.year;return void 0===g[b]?g[b]=[e.id]:g[b]=[].concat(Object(s.a)(g[b]),[e.id]),{records:c,stemsToRecords:u,yearsToRecords:g}})})},[]),r}(),f=d.records,y=d.stemsToRecords,h=d.yearsToRecords,m=y[q()(t)],g=m?T.a($.a(function(e){return f[e]}),J.a(x.a("year")),L.a,A.a(function(e){var t=Object(u.a)(e,2),r=t[0];t[1];return r>=c&&r<=p}),$.a(function(e){var t=Object(u.a)(e,2),r=t[0];return{year:r,percentage:100*t[1].length/h[r].length}}),$.a(function(e){return Object(i.a)({},e,{amt:e.percentage})}))(m):[];return a.a.createElement(I.b,{width:1200,height:500,data:g},a.a.createElement(I.c,null),a.a.createElement(I.d,{dataKey:"year"}),a.a.createElement(I.e,null),a.a.createElement(I.a,{type:"linear",dataKey:"percentage",stroke:"#8484d8",label:a.a.createElement(W,{getTotal:function(e){return h[e]?h[e].length:0}})}))},W=function(e){var t=e.x,r=e.y,n=e.stroke,o=e.value,c=e.getTotal;return a.a.createElement("text",{x:t,y:r,dy:-4,fill:n,fontSize:10,textAnchor:"middle"},o,"(",c(o),")")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("p",null,'Trending: "',"good",'"'),a.a.createElement(P,{query:"good",yearRange:[2e3,2018]})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[219,1,2]]]);
//# sourceMappingURL=main.e68c76bd.chunk.js.map