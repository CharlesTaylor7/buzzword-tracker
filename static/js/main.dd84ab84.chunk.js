(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{221:function(e,t,r){e.exports=r(422)},226:function(e,t,r){},227:function(e,t,r){},422:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(79),o=r.n(c),u=(r(226),r(38)),i=r(27),s=r(21),l=(r(227),r(122)),p=r(433),d=r(432),f=r(91),y=r(435),b=r(438),h=r(424),m=r(430),v=r(80),g=r.n(v),j=r(59),O=r(425),w=r(434),E=r(439),x=r(426),k=r(427),R=r(437),T=function(e){var t=e.queries,r=e.yearRange,c=e.record$,o=Object(s.a)(r,2),v=o[0],T=o[1],q=function(e){var t=Object(n.useState)({records:{},stemsToRecords:{},yearsToRecords:{}}),r=Object(s.a)(t,2),a=r[0],c=r[1];return Object(n.useEffect)(function(){e.subscribe(function(e){var t=/^([0-9]+|s|the|of|on|and|to|in|at|for)$/,r=/[\s,.\-_'\u2019]/,n=p.a(d.a(function(t){return e[t]?e[t].split(r):[]}),f.a(g.a),y.a(function(e){return!b.a(e)&&b.a(h.a(t,e))}),m.a)(["title","description"]);c(function(t){var r=t.stemsToRecords,a=t.yearsToRecords,c=t.records,o=Object(i.a)({},c,Object(u.a)({},e.id,e)),s=Object(i.a)({},r),p=!0,d=!1,f=void 0;try{for(var y,b=n[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var h=y.value;void 0===s[h]?s[h]=[e.id]:s[h]=[].concat(Object(l.a)(s[h]),[e.id])}}catch(g){d=!0,f=g}finally{try{p||null==b.return||b.return()}finally{if(d)throw f}}var m=Object(i.a)({},a),v=e.year;return void 0===m[v]?m[v]=[e.id]:m[v]=[].concat(Object(l.a)(m[v]),[e.id]),{records:o,stemsToRecords:s,yearsToRecords:m}})})},[e]),a}(c),$=q.records,A=q.stemsToRecords,B=q.yearsToRecords,I=Object.keys(t),F=p.a(O.a,d.a(function(e){var t=Object(s.a)(e,2),r=t[0],n=t[1];return f.a(function(e){return Object(i.a)({},$[e],{queryId:r})},function(e){return A[g()(e)]||[]}(n))}),w.a(E.a("year")))(t),K=f.a(function(e){var t=F[e]||[],r=p.a(f.a(function(r){return[r,100*y.a(x.a("queryId",r),t).length/function(e){return B[e]?B[e].length:0}(e)]}),k.a)(I);return r.year=e,r},R.a(v,T+1));return a.a.createElement(j.b,{width:1200,height:500,data:K},a.a.createElement(j.c,null),a.a.createElement(j.d,{dataKey:"year"}),a.a.createElement(j.e,null),I.map(function(e){return a.a.createElement(j.a,{type:"linear",dataKey:e,stroke:"#8484d8",label:a.a.createElement(S,null)})}))},S=function(e){var t=e.x,r=e.y,n=e.stroke,c=e.value;return a.a.createElement("text",{x:t,y:r,dy:-4,fill:n,fontSize:10,textAnchor:"middle"},c)},q=r(436),$=r(431),A=function(e){var t=e.index,r=e.setQuery,c=e.query,o=Object(n.useMemo)(function(){return(new q.a).pipe(Object($.a)(400))},[]);return Object(n.useEffect)(function(){o.subscribe(function(e){return r(t,e)})},[o,r,t]),a.a.createElement("label",{onChange:function(e){return t=e.target.value,o.next(t);var t}},"Trend line for:",a.a.createElement("input",{type:"text",defaultValue:c,style:{margin:"10px",border:0,outline:0,fontSize:"16pt",color:"white",background:"transparent",borderBottom:"1px solid grey"}}))},B=r(185),I=(r(423),r(117),r(191)),F=r(186),K=r.n(F),P=r(190),L=r(187),M=r(428),N=r(429),W=r(189),_=r(121),z=function(e){return Object(_.fromFetch)("".concat("https://cors-holy-water.herokuapp.com/").concat(e))};function J(e,t){J=function(e,t){return new c(e,t)};var r=Object(I.a)(RegExp),n=RegExp.prototype,a=new WeakMap;function c(e,t){var n=r.call(this,e);return a.set(n,t),n}function o(e,t){var r=a.get(t);return Object.keys(r).reduce(function(t,n){return t[n]=e[r[n]],t},Object.create(null))}return Object(B.a)(c,r),c.prototype.exec=function(e){var t=n.exec.call(this,e);return t&&(t.groups=o(t,this)),t},c.prototype[Symbol.replace]=function(e,t){if("string"===typeof t){var r=a.get(this);return n[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}if("function"===typeof t){var c=this;return n[Symbol.replace].call(this,e,function(){var e=[];return e.push.apply(e,arguments),"object"!==typeof e[e.length-1]&&e.push(o(e,c)),t.apply(this,e)})}return n[Symbol.replace].call(this,e,t)},J.apply(this,arguments)}var Q=K.a,C=function(e){switch(e){case"/":return"%2F";case"?":return"%3F";case"#":return"%23";case"=":return"%3D";case":":return"%3A";case";":return"%3B";case" ":return"%20";case"%":return"%25";case"+":return"%2B";default:return e}},D=function(e){return e?"&resumptionToken=".concat(function(e){return e.split().map(C).join()}(e)):""},H=function(e){return e.match(J(/^.*\/(.*)$/,{key:1})).groups.key},U=function e(t){return z("https://philpapers.org/oai.pl?verb=ListRecords&metadataPrefix=oai_dc".concat(D(t))).pipe(P.a(function(e){return e.text()}),P.a(function(t){var r=Q.parse(t)["OAI-PMH"].ListRecords,n=r.record,a=r.resumptionToken;return N.a(W.a(n),e(a))}))}().pipe(L.a(function(e){for(var t={},r=0,n=Object.entries(e.metadata["oai_dc:dc"]);r<n.length;r++){var a=n[r],c=Object(s.a)(a,2),o=c[0],u=c[1];t[o.match(J(/^dc:(\w+)$/,{prop:1})).groups.prop]=u}return t.title=t.title?String(t.title):null,t.id=H(t.identifier),delete t.identifier,t.year=t.date,delete t.date,t.type=H(t.type),t.author=t.creator,delete t.creator,t}),M.a(function(e){return"en"===e.language&&e.title&&"number"===typeof e.year})),V=(z("https://philPapers.org/philpapers/raw/categories.json?apiId=".concat("904518","&apiKey=").concat("5KLo4qkvXNl4t8s5")).pipe(P.a(function(e){return e.json()}),L.a(function(e){return e[0]})),r(188));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(function(){var e=Object(V.useUrlSearchParams)({q0:"good",q1:"governance"}),t=Object(s.a)(e,2),r=t[0],n=t[1],c=function(e,t){n(Object(i.a)({},r,Object(u.a)({},e,t)))};return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},p.a(O.a,f.a(function(e){var t=Object(s.a)(e,2),r=t[0],n=t[1];return a.a.createElement(A,{autoFocus:!0,key:r,index:r,setQuery:c,query:n})}))(r),a.a.createElement(T,{queries:r,record$:U,yearRange:[2e3,2018]})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[221,1,2]]]);
//# sourceMappingURL=main.dd84ab84.chunk.js.map